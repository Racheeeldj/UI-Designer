<html>
<head>
<title> UI-Designer</title>
<link rel="stylesheet" type="text/css" href="UI-Style.css">
<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<script>
  $( function work() {
    $(".drag").draggable({cancel:false});
    $('.demo').button().draggable().resizable();
    $('#demo').resizable({grid: 10});
   $('#test').draggable({cancel:false, grid: [ 10,10 ] })
  } );
  </script>
  
<style>
.section{
	border: 1px;
	border-color: #FFFFFF;
}
.btn-tool{
	position:absolute; 
	top: 150px;
	left: 5px;
}
</style>
<head>
</head>
<body>
	<div id="main" style="width: 100%; height: 100%">
		<div id="toolbar" style="float:left; width: 100%; height: 30%;">
			<button id="addLbl" >Add Label</button>
			<button id="addTxtfld">Add TextField</button>
			<button id="addBtn" >Add Button</button>
			<button id="toJSON" >Generate JSON</button>
		</div>

		<div id="screen" style="float:left; width: 100%; height: 70%">
			<label class="drag resize label" style="position:absolute; top: 100px; left: 400px;">User:</label>		
			<input class="drag resize textbox" type="text" style="position:absolute; top: 100px; left: 440px;"></input>
			<label class="drag resize label" style="position:absolute; top: 120px; left: 400px;">Pass:</label>
			<input class="drag resize textbox" type="text" style="position:absolute; top: 120px; left: 440px;"></input>
			<input class="drag resize button" type="submit" style="position:absolute; top: 150px; left: 480px;"></input>
		</div>
	</div>
	

<script>

document.getElementById("toJSON").addEventListener("click", function(e) { 
	var html = document.getElementById("screen").outerHTML;
	var json = window.himalaya.parse(html)
	console.log('json:', json)
});

</script>
<script>
function work(){
    $(".drag").draggable({cancel:false});
}
document.getElementById("addTxtfld").addEventListener("click", function(e){
	e.preventDefault();
	var html = document.getElementById("screen").innerHTML+="<input class='drag resize textbox' type='text' style='position:absolute; top: 100px; left: 440px;'></input>";
	eval(work());
})
document.getElementById("addLbl").addEventListener("click", function(e){
	e.preventDefault();
	var html = document.getElementById("screen").innerHTML+="<label class='drag resize label' style='position:absolute; top: 100px; left: 400px;'> Text Here </label>	";
	eval(work());
})
document.getElementById("addBtn").addEventListener("click", function(e){
	e.preventDefault();
	var html = document.getElementById("screen").innerHTML+="<input class='drag resize button' type='submit' style='position:absolute; top: 150px; left: 480px;'></input>";
	eval(work());
})

</script>
<script src="ConvertToJSON.js" ></script>

</body>
</html>